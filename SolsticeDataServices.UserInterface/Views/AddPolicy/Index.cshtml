
@{
    ViewBag.Title = "AddPolicy";
    Layout = "~/Views/Shared/_Documentation.cshtml";
}

<h2>AddPolicy</h2>

<ul class="nav nav-pills">
    <li><a href="#description">Description</a> </li>
    <li><a href="#request">Request</a></li>
    <li><a href="#response">Response</a></li>
    <li><a href="#example">Example</a></li>
</ul>

<!-- Description -->
<h3 id="description">Description</h3>
<p align="justify">
    AddPolicy adds a policy to Solstice Data Services™ for managing your device's parameters. 
    You can define a policy for a device definition and assign a device to the policy. 
    Whenever an assigned device's parameters do not match the policy a <a href="/LogEntryEvent">LogEntryEvent</a> of type PolicyException is published. 
</p>

<!-- Request -->
<h3 id="request">Request</h3>

<div class="assnormalbox">
    <div class="table-responsive">
        <div class="bs-example">
            <table class="table table-hover dashtable table table-striped table-bordered">
                <tbody>
                    <tr>
                        <th> Name </th>
                        <th> Description </th>
                        <th> Required </th>
                    </tr>
                    <tr>
                        <td> AccessKey </td>
                        <td> The AccessKey for your user account. </td>
                        <td> Yes </td>
                    </tr>
                    <tr>
                        <td> Action </td>
                        <td> AddPolicy </td>
                        <td> Yes </td>
                    </tr>
                    <tr>
                        <td> DeviceDefinitionId </td>
                        <td> The id of the device definition that you want to create a policy for. </td>
                        <td> Yes </td>
                    </tr>
                    <tr>
                        <td> Name  </td>
                        <td> A friendly name for the policy. This is an ASCII 255 byte string.  </td>
                        <td> Yes </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="alert alert-info">
    <strong>More Info!</strong> Add the policy value for all device definition parameters. 
    These values unless overriden by a device will be the value a device must have or the device is considered out of compliance.
</div>

<!-- Response -->
<h3 id="response"> Response</h3>

<div class="assnormalbox">
    <div class="table-responsive">
        <div class="bs-example">
            <table class="table table-hover dashtable table table-striped table-bordered">
                <tbody>
                    <tr>
                        <th> Code </th>
                        <th> Name </th>
                        <th> Description </th>
                    </tr>
                    <tr>
                        <td> 200 </td>
                        <td> Success </td>
                        <td> Indicates that the request is successful. </td>
                    </tr>
                    <tr>
                        <td> 400 </td>
                        <td> InvalidParameter </td>
                        <td> Indicates that a request parameter does not comply with the associated constraints. </td>
                    </tr>
                    <tr>
                        <td> 401 </td>
                        <td> Unauthorized </td>
                        <td> Indicates that the user has been denied access to the requested resource. </td>
                    </tr>
                    <tr>
                        <td> 500 </td>
                        <td> InternalError </td>
                        <td> Indicates an internal service error. </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>

<!-- Image -->
<div class="pull-right">
    <button class="btn btn-default btn-mini" type="button"><i class="glyphicon glyphicon-download"></i> Download</button>
</div>


<div class="tab-img"><img src="images/AddPolicy.png" alt=""></div>


 <!-- Example -->
<h3 id="example">Example</h3>

<p>Request</p>
<pre>https://solstice.tersosolutions.com/v1.5/application/?
    AccessKey=MyAccessKey
    &amp;Action=AddPolicy
    &amp;DeviceDefinitionId=ecf8984b-50b0-4ae8-bd1f-26a3667331fb
    &amp;Name=MyPolicyName
    &amp;aggregateeventscancount=2
    &amp;aggregateeventscantime=10
    &amp;antenna1rxsensitivity=50
    &amp;antenna1txpower=30
    &amp;antenna2rxsensitivity=50
    &amp;antenna2txpower=30
    &amp;antenna3rxsensitivity=50
    &amp;antenna3txpower=30
    &amp;antenna4rxsensitivity=50
    &amp;antenna4txpower=30
    &amp;commandpollinterval=60
    &amp;dns=0.0.0.0
    &amp;dooropentimelimit=300
    &amp;gateway=0.0.0.0
    &amp;ip=0.0.0.0
    &amp;solsticedeviceurl=https://us-device.tersosolutions.com/v1.0/device/
    &amp;lockdownhightemp=127
    &amp;lockdownonacpowerfailure=0
    &amp;lockdownonreaderfailure=0
    &amp;lockdownonhightemp=0
    &amp;logentryeventhightemp=127
    &amp;logentryeventlowtemp=-128
    &amp;numberofantennas=4
    &amp;logentrylevel=warning
    &amp;objecteventscancount=2
    &amp;objecteventscantime=10
    &amp;Subnet=0.0.0.0</pre>

<p>Response</p>
<pre>    &lt;Solstice xmlns="http://solstice.TersoSolutions.com/v1.5/ConfigureResponse"&gt;
        &lt;Header/&gt;
        &lt;ConfigureResponse Id="53bb663f-7ed0-41f8-9757-90ad4e015995" /&gt;
    &lt;/Solstice&gt;</pre>

